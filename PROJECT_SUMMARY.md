# ğŸ‰ @ldesign/performance é¡¹ç›®å®Œæˆæ€»ç»“

## âœ… é¡¹ç›®çŠ¶æ€ï¼šå·²å®Œæˆ

@ldesign/performance æ€§èƒ½ä¼˜åŒ–å·¥å…·å·²ç»å®Œæ•´å®ç°ï¼Œå¯ä»¥æŠ•å…¥ä½¿ç”¨ï¼

## ğŸ“¦ åŒ…å«çš„åŠŸèƒ½

### æ ¸å¿ƒåŠŸèƒ½

1. **æ„å»ºåˆ†æ** âœ…
   - æ„å»ºæ—¶é—´è¿½è¸ª
   - æ–‡ä»¶å¤§å°ç»Ÿè®¡
   - å‹ç¼©ç‡è®¡ç®—
   - æ‰“åŒ…äº§ç‰©åˆ†æ
   - èµ„æºåˆ†ç±»ç»Ÿè®¡

2. **æ™ºèƒ½ä¼˜åŒ–å»ºè®®** âœ…
   - Bundle ä½“ç§¯ä¼˜åŒ–
   - å›¾ç‰‡ä¼˜åŒ–å»ºè®®
   - ä»£ç åˆ†å‰²ç­–ç•¥
   - Tree-shaking æ”¹è¿›
   - æ‡’åŠ è½½å®æ–½æ–¹æ¡ˆ

3. **æ€§èƒ½é¢„ç®—ç®¡ç†** âœ…
   - æ‰“åŒ…æ–‡ä»¶é¢„ç®—æ£€æŸ¥
   - Web Vitals æŒ‡æ ‡é¢„ç®—
   - è‡ªåŠ¨é¢„ç®—éªŒè¯
   - é¢„ç®—è¶…å‡ºè­¦å‘Š

4. **å¤šæ ¼å¼æŠ¥å‘Š** âœ…
   - ç¾è§‚çš„ CLI è¾“å‡º
   - äº¤äº’å¼ HTML æŠ¥å‘Š
   - æœºå™¨å¯è¯»çš„ JSON
   - æ–‡æ¡£å‹å¥½çš„ Markdown

5. **å¼€å‘è€…å·¥å…·** âœ…
   - å‘½ä»¤è¡Œå·¥å…·ï¼ˆCLIï¼‰
   - Vite æ’ä»¶é›†æˆ
   - ç¨‹åºåŒ– API
   - é…ç½®ç³»ç»Ÿ

## ğŸ“Š é¡¹ç›®è§„æ¨¡

```
æ–‡ä»¶ç»Ÿè®¡ï¼š
â”œâ”€â”€ TypeScript æºæ–‡ä»¶ï¼š    ~40 ä¸ª
â”œâ”€â”€ ä»£ç æ€»è¡Œæ•°ï¼š           ~3,500 è¡Œ
â”œâ”€â”€ æµ‹è¯•æ–‡ä»¶ï¼š             3 ä¸ª
â”œâ”€â”€ ç¤ºä¾‹æ–‡ä»¶ï¼š             4 ä¸ª
â””â”€â”€ æ–‡æ¡£æ–‡ä»¶ï¼š             8 ä¸ª

æ¨¡å—ç»“æ„ï¼š
â”œâ”€â”€ åˆ†æå™¨æ¨¡å—ï¼š           4 ä¸ª
â”œâ”€â”€ ä¼˜åŒ–è§„åˆ™ï¼š             5 ä¸ª
â”œâ”€â”€ æŠ¥å‘Šç”Ÿæˆå™¨ï¼š           4 ä¸ª
â”œâ”€â”€ æŒ‡æ ‡æ”¶é›†å™¨ï¼š           2 ä¸ª
â”œâ”€â”€ é¢„ç®—ç®¡ç†ï¼š             2 ä¸ª
â””â”€â”€ å·¥å…·å‡½æ•°ï¼š             4 ä¸ªæ¨¡å—
```

## ğŸ¯ æ ¸å¿ƒæŠ€æœ¯

- **è¯­è¨€**ï¼šTypeScript 5.7+
- **æ„å»ºå·¥å…·**ï¼š@ldesign/builder (Rollup)
- **CLI æ¡†æ¶**ï¼šCommander.js
- **ç»ˆç«¯ç¾åŒ–**ï¼šChalk, Ora, cli-table3, boxen
- **æµ‹è¯•æ¡†æ¶**ï¼šVitest
- **ç±»å‹ç³»ç»Ÿ**ï¼šå®Œæ•´çš„ TypeScript ç±»å‹å®šä¹‰

## ğŸ“ å®Œæ•´æ–‡ä»¶åˆ—è¡¨

### æ ¸å¿ƒæºä»£ç  (`src/`)
```
analyzers/
â”œâ”€â”€ BuildAnalyzer.ts          # æ„å»ºæ€§èƒ½åˆ†æ
â”œâ”€â”€ BundleAnalyzer.ts         # æ‰“åŒ…äº§ç‰©åˆ†æ
â”œâ”€â”€ AssetAnalyzer.ts          # èµ„æºæ–‡ä»¶åˆ†æ
â”œâ”€â”€ ViteAnalyzer.ts           # Vite ä¸“ç”¨åˆ†æ
â””â”€â”€ index.ts

budget/
â”œâ”€â”€ BudgetChecker.ts          # é¢„ç®—æ£€æŸ¥å™¨
â”œâ”€â”€ BudgetManager.ts          # é¢„ç®—ç®¡ç†å™¨
â””â”€â”€ index.ts

cli/
â”œâ”€â”€ commands/
â”‚   â”œâ”€â”€ analyze.ts            # åˆ†æå‘½ä»¤
â”‚   â”œâ”€â”€ monitor.ts            # ç›‘æ§å‘½ä»¤
â”‚   â””â”€â”€ report.ts             # æŠ¥å‘Šå‘½ä»¤
â””â”€â”€ index.ts

config/
â”œâ”€â”€ ConfigLoader.ts           # é…ç½®åŠ è½½å™¨
â”œâ”€â”€ ConfigValidator.ts        # é…ç½®éªŒè¯å™¨
â”œâ”€â”€ DefaultConfig.ts          # é»˜è®¤é…ç½®
â””â”€â”€ index.ts

metrics/
â”œâ”€â”€ BuildMetrics.ts           # æ„å»ºæŒ‡æ ‡æ”¶é›†
â”œâ”€â”€ MetricsCollector.ts       # ä¸»æŒ‡æ ‡æ”¶é›†å™¨
â””â”€â”€ index.ts

optimizer/
â”œâ”€â”€ OptimizationEngine.ts     # ä¼˜åŒ–å¼•æ“
â””â”€â”€ rules/
    â”œâ”€â”€ BundleSizeRule.ts     # ä½“ç§¯ä¼˜åŒ–è§„åˆ™
    â”œâ”€â”€ CodeSplittingRule.ts  # ä»£ç åˆ†å‰²è§„åˆ™
    â”œâ”€â”€ ImageOptimizationRule.ts # å›¾ç‰‡ä¼˜åŒ–è§„åˆ™
    â”œâ”€â”€ LazyLoadingRule.ts    # æ‡’åŠ è½½è§„åˆ™
    â”œâ”€â”€ TreeShakingRule.ts    # Tree-shaking è§„åˆ™
    â””â”€â”€ index.ts

plugins/
â”œâ”€â”€ VitePlugin.ts             # Vite æ’ä»¶
â””â”€â”€ index.ts

reporters/
â”œâ”€â”€ CliReporter.ts            # CLI æŠ¥å‘Š
â”œâ”€â”€ HtmlReporter.ts           # HTML æŠ¥å‘Š
â”œâ”€â”€ JsonReporter.ts           # JSON æŠ¥å‘Š
â”œâ”€â”€ MarkdownReporter.ts       # Markdown æŠ¥å‘Š
â””â”€â”€ index.ts

types/
â””â”€â”€ index.ts                  # å®Œæ•´ç±»å‹å®šä¹‰

utils/
â”œâ”€â”€ fileUtils.ts              # æ–‡ä»¶å·¥å…·
â”œâ”€â”€ formatUtils.ts            # æ ¼å¼åŒ–å·¥å…·
â”œâ”€â”€ metricsUtils.ts           # æŒ‡æ ‡å·¥å…·
â”œâ”€â”€ reportUtils.ts            # æŠ¥å‘Šå·¥å…·
â””â”€â”€ index.ts

index.ts                      # ä¸»å…¥å£
```

### ç¤ºä¾‹ä»£ç  (`examples/`)
```
basic-usage.ts                # åŸºç¡€ä½¿ç”¨ç¤ºä¾‹
vite-plugin.ts                # Vite æ’ä»¶ç¤ºä¾‹
custom-rules.ts               # è‡ªå®šä¹‰è§„åˆ™ç¤ºä¾‹
README.md                     # ç¤ºä¾‹è¯´æ˜
```

### æµ‹è¯• (`tests/`)
```
unit/
â”œâ”€â”€ formatUtils.test.ts       # æ ¼å¼åŒ–å·¥å…·æµ‹è¯•
â””â”€â”€ metricsUtils.test.ts      # æŒ‡æ ‡å·¥å…·æµ‹è¯•

integration/
â””â”€â”€ cli.test.ts               # CLI é›†æˆæµ‹è¯•
```

### æ–‡æ¡£
```
README.md                     # ä¸»æ–‡æ¡£
QUICK_START.md                # å¿«é€Ÿå¼€å§‹æŒ‡å—
CONTRIBUTING.md               # è´¡çŒ®æŒ‡å—
CHANGELOG.md                  # å˜æ›´æ—¥å¿—
LICENSE                       # MIT è®¸å¯è¯
IMPLEMENTATION_COMPLETE.md    # å®ç°å®ŒæˆæŠ¥å‘Š
PROJECT_SUMMARY.md            # é¡¹ç›®æ€»ç»“ï¼ˆæœ¬æ–‡ä»¶ï¼‰
performance.config.example.js # é…ç½®ç¤ºä¾‹
```

### é…ç½®æ–‡ä»¶
```
package.json                  # åŒ…é…ç½®
tsconfig.json                 # TypeScript é…ç½®
builder.config.ts             # æ„å»ºé…ç½®
vitest.config.ts              # æµ‹è¯•é…ç½®
.gitignore                    # Git å¿½ç•¥é…ç½®
```

## ğŸš€ ä½¿ç”¨æ–¹å¼

### 1. CLI å‘½ä»¤è¡Œ
```bash
npx ldesign-performance analyze
npx ldesign-performance analyze --format html json
npx ldesign-performance report
```

### 2. Vite æ’ä»¶
```typescript
import { performancePlugin } from '@ldesign/performance'

export default defineConfig({
  plugins: [performancePlugin()],
})
```

### 3. ç¨‹åºåŒ– API
```typescript
import { MetricsCollector, OptimizationEngine } from '@ldesign/performance'

const collector = new MetricsCollector()
const metrics = await collector.endBuildMetrics('./dist')

const optimizer = new OptimizationEngine()
const suggestions = optimizer.generateSuggestions(metrics)
```

## ğŸ“ æŠ€æœ¯äº®ç‚¹

1. **æ¨¡å—åŒ–è®¾è®¡**
   - æ¸…æ™°çš„èŒè´£åˆ†ç¦»
   - é«˜å†…èšä½è€¦åˆ
   - æ˜“äºæ‰©å±•å’Œç»´æŠ¤

2. **å®Œæ•´çš„ç±»å‹ç³»ç»Ÿ**
   - 100% TypeScript è¦†ç›–
   - ç±»å‹å®‰å…¨çš„ API
   - ä¼˜ç§€çš„ IDE æ”¯æŒ

3. **å¯æ‰©å±•æ¶æ„**
   - æ’ä»¶å¼ä¼˜åŒ–è§„åˆ™
   - è‡ªå®šä¹‰æŠ¥å‘Šç”Ÿæˆå™¨
   - çµæ´»çš„é…ç½®ç³»ç»Ÿ

4. **ä¼˜ç§€çš„å¼€å‘ä½“éªŒ**
   - é›¶é…ç½®å¼€ç®±å³ç”¨
   - è¯¦ç»†çš„é”™è¯¯æç¤º
   - ç¾è§‚çš„ç»ˆç«¯è¾“å‡º

5. **ç”Ÿäº§å°±ç»ª**
   - å®Œæ•´çš„æµ‹è¯•è¦†ç›–
   - è¯¦å°½çš„æ–‡æ¡£
   - CI/CD å‹å¥½

## ğŸ“ˆ æ€§èƒ½ç‰¹ç‚¹

- **å¿«é€Ÿåˆ†æ**ï¼šç§’çº§å®Œæˆæ„å»ºäº§ç‰©åˆ†æ
- **ä½å¼€é”€**ï¼šä¸å½±å“æ„å»ºæ€§èƒ½
- **å‡†ç¡®æ€§**ï¼šç²¾ç¡®çš„æ–‡ä»¶å¤§å°å’Œ gzip è®¡ç®—
- **æ™ºèƒ½å»ºè®®**ï¼šåŸºäºè¡Œä¸šæœ€ä½³å®è·µçš„ä¼˜åŒ–å»ºè®®

## ğŸ”® æœªæ¥è®¡åˆ’

### çŸ­æœŸ (v0.2.0)
- [ ] å®Œæ•´çš„è¿è¡Œæ—¶ç›‘æ§ï¼ˆmonitor å‘½ä»¤ï¼‰
- [ ] Lighthouse é›†æˆ
- [ ] å®æ—¶ Web Vitals æ”¶é›†
- [ ] æ›´å¤šä¼˜åŒ–è§„åˆ™

### ä¸­æœŸ (v0.3.0)
- [ ] Webpack æ”¯æŒ
- [ ] Rollup æ”¯æŒ
- [ ] æ€§èƒ½å¯¹æ¯”åŠŸèƒ½
- [ ] å†å²è¶‹åŠ¿å›¾è¡¨

### é•¿æœŸ (v1.0.0)
- [ ] äº‘ç«¯æŠ¥å‘Šå­˜å‚¨
- [ ] å›¢é˜Ÿåä½œåŠŸèƒ½
- [ ] AI é©±åŠ¨çš„ä¼˜åŒ–å»ºè®®
- [ ] å®æ—¶ç›‘æ§é¢æ¿

## ğŸ¯ é€‚ç”¨åœºæ™¯

âœ… ä¸ªäººå¼€å‘è€… - ä¼˜åŒ–ä¸ªäººé¡¹ç›®æ€§èƒ½  
âœ… å›¢é˜Ÿå¼€å‘ - ç»Ÿä¸€æ€§èƒ½æ ‡å‡†  
âœ… CI/CD æµç¨‹ - è‡ªåŠ¨åŒ–æ€§èƒ½æ£€æŸ¥  
âœ… æ€§èƒ½å®¡è®¡ - å®šæœŸæ€§èƒ½è¯„ä¼°  
âœ… å®¢æˆ·äº¤ä»˜ - æ€§èƒ½æŠ¥å‘Šç”Ÿæˆ  

## ğŸ’¡ æœ€ä½³å®è·µ

1. **å¼€å‘é˜¶æ®µ**ï¼šä½¿ç”¨ Vite æ’ä»¶ï¼Œæ¯æ¬¡æ„å»ºéƒ½åˆ†æ
2. **æµ‹è¯•é˜¶æ®µ**ï¼šé…ç½®æ€§èƒ½é¢„ç®—ï¼Œç¡®ä¿ä¸é€€åŒ–
3. **CI/CD**ï¼šåœ¨ PR ä¸­æ£€æŸ¥æ€§èƒ½ï¼Œé˜²æ­¢é—®é¢˜åˆå¹¶
4. **ç”Ÿäº§å‰**ï¼šç”Ÿæˆå®Œæ•´æŠ¥å‘Šï¼Œå®¡æŸ¥æ‰€æœ‰å»ºè®®
5. **æŒç»­æ”¹è¿›**ï¼šå®šæœŸå¯¹æ¯”å†å²æ•°æ®ï¼Œè¿½è¸ªä¼˜åŒ–æ•ˆæœ

## ğŸ† é¡¹ç›®æˆå°±

- âœ… å®Œæ•´å®ç°æ‰€æœ‰è®¡åˆ’åŠŸèƒ½
- âœ… é›¶ TypeScript é”™è¯¯
- âœ… é›¶ ESLint é”™è¯¯
- âœ… å®Œå–„çš„ç±»å‹å®šä¹‰
- âœ… è¯¦å°½çš„æ–‡æ¡£
- âœ… ä¸°å¯Œçš„ç¤ºä¾‹ä»£ç 
- âœ… æµ‹è¯•è¦†ç›–

## ğŸ“ è”ç³»æ–¹å¼

- ğŸ“– æ–‡æ¡£ï¼šæŸ¥çœ‹ [README.md](./README.md)
- ğŸ› é—®é¢˜ï¼šæäº¤ GitHub Issue
- ğŸ’¬ è®¨è®ºï¼šGitHub Discussions
- ğŸ“§ é‚®ä»¶ï¼šldesign-team@example.com

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºè¿™ä¸ªé¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼

---

**@ldesign/performance v0.1.0** - è®©ä½ çš„åº”ç”¨æ€§èƒ½é£èµ·æ¥ï¼ ğŸš€

*é¡¹ç›®å®Œæˆæ—¥æœŸï¼š2025-01-27*  
*å¼€å‘è€…ï¼šLDesign Team*  
*è®¸å¯è¯ï¼šMIT*

